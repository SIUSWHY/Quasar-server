name: build-server
run-name: ${{ github.actor }} is trigger rebuild server
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: self-hosted
    steps:
      - name: Pull last changes
        run: git checkout master && git pull origin master
      - name: Install dependencies
        run: npm ci
      - name: Build server
        run: npm run build
      - name: Start pm2
        run: cd ./dist && pm2 start server.js
